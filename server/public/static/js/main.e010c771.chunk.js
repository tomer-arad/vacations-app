(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,a){e.exports=a.p+"static/media/nav4.270db25b.jpg"},116:function(e,t,a){e.exports=a.p+"static/media/nav3.70462992.jpg"},117:function(e,t,a){e.exports=a.p+"static/media/nav2.a327fe7c.jpg"},134:function(e,t,a){e.exports=a(167)},139:function(e,t,a){},167:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),i=(a(139),a(118)),l=a(223),s=a(18),u=a(40),m=a(104),p=a(105),d=a.n(p),f=a(11),h={currentUser:{},following:[],success:!0},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_DATA":return Object(f.a)(Object(f.a)({},e),{},{currentUser:t.payload});case"GET_FOLLOWING_DATA":return Object(f.a)(Object(f.a)({},e),{},{following:t.payload});case"CATCH_FAILUR":return Object(f.a)(Object(f.a)({},e),{},{following:[],success:!1});default:return e}},b={vacations:[],sortedVacations:[],success:null,errorType:null},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_VACATIONS_DATA":case"USER_VACATIONS":case"DEL_VACATIONS":return Object(f.a)(Object(f.a)({},e),{},{vacations:t.payload});case"EDIT_VACATION":case"ADD_VACATION":return Object(f.a)(Object(f.a)({},e),{},{vacations:t.payload,success:!0});case"SORT_VACATIONS":return Object(f.a)(Object(f.a)({},e),{},{vacations:t.payload});case"LIKE_VACATION":return Object(f.a)({},e);case"OPEN_TOGGLE":return Object(f.a)(Object(f.a)({},e),{},{success:!1,errorType:t.payload});case"CATCH_FAILUR":return Object(f.a)(Object(f.a)({},e),{},{errorType:t.payload});default:return e}},y=Object(u.c)({userReducer:g,vacationReducer:v}),E=a(21),x=a(14),w=a(6),C=a.n(w),k=a(12),O=a(49),A=a(50),j=a(53),T=a(52),S=a(22),U=a.n(S),N=a(33),V=a(206),F=a(15),_=a.n(F),I=a(209),D=a(106),L=a.n(D),R=a(214),P=a(236),W=a(213),G=a(169),z=a(212),H=a(211),M=a(107),K=a.n(M),q=a(235),B=Object(V.a)((function(e){return{root:{flexGrow:1,backgroundImage:"url(".concat(L.a,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",height:"300px"},title:{fontSize:"60px",color:"white",margin:"auto",display:"flex",marginTop:50,fontFamily:"Ubuntu",textShadow:"-1px 2px 0 #000, 2px 2px 0 #000"},button:{color:"white",position:"relative",top:10,width:"90%",height:"90%",textAlign:"center"},userIcon:{height:40,width:40}}}));var J=Object(s.b)((function(e){return{currentUser:e.userReducer.currentUser}}),null)((function(e){var t=e.logout,a=e.currentUser,n=a.is_admin,o=B(),c=r.a.useRef(null),i=r.a.useState(!1),l=Object(N.a)(i,2),s=l[0],u=l[1],m=function(e){c.current&&c.current.contains(e.target)&&u(!1)},p=r.a.useRef(s);r.a.useEffect((function(){!0===p.current&&!1===s&&c.current.focus(),p.current=s}),[s]);var d=function(e){"accountMenu"===e.target.name&&(e.preventDefault(),u(!1))},f=function(){var e=Object(k.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/auth/logout");case 3:t(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(I.a,{container:!0,className:o.root,position:"static"},r.a.createElement(I.a,{className:o.title,item:!0,xs:12,sm:12,md:11,lg:11},r.a.createElement(q.a,{className:o.title,component:E.b,to:"/vacations"},n>0?"Good to see you Admin!":"Going Somwhere ".concat(function(e){var t=e.first_name;if(t)return t.charAt(0).toUpperCase()+t.slice(1)}(a),"?"))),r.a.createElement(I.a,{className:o.button,item:!0,xs:12,sm:12,md:1,lg:1},r.a.createElement(H.a,{"aria-label":"account of current user",ref:c,"aria-controls":s?"account-menu":void 0,"aria-haspopup":"true",onClick:function(){u((function(e){return!e}))},color:"inherit"},r.a.createElement(K.a,{className:o.userIcon})),r.a.createElement(z.a,{open:s,anchorEl:c.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,a=e.placement;return r.a.createElement(W.a,Object.assign({},t,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),r.a.createElement(G.a,null,r.a.createElement(R.a,{onClickAway:m},r.a.createElement(P.a,{name:"accountMenu",autoFocusItem:s,id:"account-menu",onKeyDown:d},r.a.createElement(q.a,{component:E.b,to:"/account",onClick:m},"Account"),r.a.createElement(q.a,{onClick:f},"Logout")))))}))))})),X=a(24),$=a(19),Q=a(215),Y=a(216),Z=a(64),ee=a.n(Z),te=a(109),ae=a.n(te),ne=a(110),re=a.n(ne),oe=a(111),ce=a.n(oe),ie=a(237),le=function(){return function(){var e=Object(k.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/vacations");case 3:a=e.sent,n=a.data,t({type:"GET_VACATIONS_DATA",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"CATCH_FAILUR"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},se=function(e){return function(){var t=Object(k.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.delete("/vacations/".concat(e));case 3:return t.next=5,_.a.get("/vacations");case 5:n=t.sent,r=n.data,a({type:"DEL_VACATIONS",payload:r}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a({type:"CATCH_FAILUR"});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},ue=function(e,t,a){return function(){var n=Object(k.a)(C.a.mark((function n(r){var o,c;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e.id,c=t.id,n.prev=2,!U.a.includes(a,o)){n.next=9;break}return e.likes--,n.next=7,_.a.delete("/likes/".concat(o,"/").concat(c));case 7:n.next=12;break;case 9:return e.likes++,n.next=12,_.a.post("/likes/".concat(o,"/").concat(c));case 12:return n.next=14,_.a.patch("/vacations/".concat(o),Object(f.a)(Object(f.a)({},e),{},{likes:"".concat(e.likes)}));case 14:r({type:"LIKE_VACATION"}),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(2),r({type:"CATCH_FAILUR"});case 20:case"end":return n.stop()}}),n,null,[[2,17]])})));return function(e){return n.apply(this,arguments)}}()},me=Object(V.a)((function(e){return{root:{flexGrow:1,backgroundColor:"#381a37"},lables:{color:"#d8d8d8"},search:Object(X.a)({position:"relative",height:"70%",borderRadius:e.shape.borderRadius,marginTop:"10px",color:"white",backgroundColor:Object($.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object($.b)(e.palette.common.white,.25)},width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(X.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}}));var pe=Object(s.b)((function(e){var t=e.userReducer;return{currentUser:t.currentUser,following:t.following}}),(function(e){return{getVacationsData:function(){return e(le())},getUserVacations:function(t){return e(function(e){return function(){var t=Object(k.a)(C.a.mark((function t(a){var n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.post("/likes/vacations",{vacationsId:e});case 3:n=t.sent,r=n.data,a({type:"USER_VACATIONS",payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"CATCH_FAILUR"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.getVacationsData,a=e.getUserVacations,n=e.following,o=e.currentUser,c=e.onChange,i=me(),l=r.a.useState(0),s=Object(N.a)(l,2),u=s[0],m=s[1],p=o.is_admin;return r.a.createElement(I.a,{container:!0},r.a.createElement(Q.a,{value:u,onChange:function(e,t){m(t)},showLabels:!0,className:i.root},r.a.createElement(Y.a,{className:i.lables,onClick:function(){t()},component:E.b,to:"/vacations",label:"Home",icon:r.a.createElement(ae.a,null)}),0===p&&r.a.createElement(Y.a,{className:i.lables,onClick:function(){a(n)},label:"Favorites",icon:r.a.createElement(ee.a,null)}),p>0&&r.a.createElement(Y.a,{className:i.lables,component:E.b,to:"/stats",label:"Stats",icon:r.a.createElement(re.a,null)}),r.a.createElement(I.a,{item:!0,className:i.search},r.a.createElement("div",{className:i.searchIcon},r.a.createElement(ce.a,null)),r.a.createElement(ie.a,{placeholder:"Search Vacation\u2026",classes:{root:i.inputRoot,input:i.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){var t=e.target.value;return c(t)}}))))})),de=a(3),fe=a(217),he=a(219),ge=a(218),be=a(220),ve=a(65),ye=a(221),Ee=a(75),xe=a.n(Ee),we=function(e){return function(){var t=Object(k.a)(C.a.mark((function t(a){var n,r,o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.a.get("/likes/".concat(e));case 3:n=t.sent,r=n.data,o=r.map((function(e){return e.vacation_id})),a({type:"GET_FOLLOWING_DATA",payload:o}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"CATCH_FAILUR",payload:null});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Ce=Object(V.a)((function(e){return{account:{display:"block",width:"600px",margin:"auto",marginTop:"20px"},media:{margin:"auto",textAlign:"center",paddingTop:"50%",borderRadius:"50%",width:"50%"},expand:{position:"relative",transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},title:{fontWeight:300},subtitle:{fontWeight:200},expandOpen:{transform:"rotate(180deg)"},about:{fontSize:30,fontWeight:300}}})),ke=Object(s.b)((function(e){var t=e.userReducer;return{currentUser:t.currentUser,following:t.following}}),(function(e){return{deleteVacation:function(t){return e(se(t))},likeVacation:function(t,a,n){return e(ue(t,a,n))},getFollowingData:function(t){return e(we(t))}}}))((function(e){var t=e.currentUser,a=t.first_name,n=t.last_name,o=t.avatar,c=Ce(),i=r.a.useState(!1),l=Object(N.a)(i,2),s=l[0],u=l[1];return r.a.createElement("div",null,r.a.createElement(fe.a,{className:c.account},r.a.createElement(ge.a,null,r.a.createElement(ve.a,{className:c.title,variant:"h5",color:"textPrimary",component:"p"},r.a.createElement("b",null,"First Name:")," ",a),r.a.createElement(ve.a,{className:c.subtitle,variant:"h5",color:"textPrimary",component:"p"},r.a.createElement("b",null,"Last Name:")," ",n)),r.a.createElement(he.a,{className:c.media,image:o,title:"image"}),r.a.createElement(be.a,null,r.a.createElement(H.a,{className:Object(de.a)(c.expand,Object(X.a)({},c.expandOpen,s)),onClick:function(){u(!s)},"aria-expanded":s,"aria-label":"show more"},r.a.createElement(xe.a,null))),r.a.createElement(ye.a,{in:s,timeout:"auto",unmountOnExit:!0},r.a.createElement(ge.a,{className:c.about},r.a.createElement(ve.a,{variant:"body1",component:"p"},r.a.createElement("b",null,"About:")," Write Somthing...")))))})),Oe=a(224),Ae=a(230),je=a(233),Te=a(228),Se=a(227),Ue=a(226),Ne=a(112),Ve=a.n(Ne),Fe=a(113),_e=a.n(Fe),Ie=a(225),De=a(231),Le=a(222),Re=a(79),Pe=Object(i.a)({palette:{primary:Le.a,secondary:Re.a},fab:{margin:0,top:"auto",left:"auto",bottom:20,right:30,position:"fixed"}}),We={country:"",destination:"",description:"",starts:"",ends:"",price:"",image:""};var Ge=Object(s.b)((function(e){var t=e.vacationReducer;return{errorType:t.errorType,success:t.success}}),(function(e){return{editVacation:function(t){return e((a=t,function(){var e=Object(k.a)(C.a.mark((function e(t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.patch("/vacations/".concat(a.id),a).catch((function(e){throw e}));case 3:return e.next=5,_.a.get("/vacations");case 5:n=e.sent,r=n.data,t({type:"EDIT_VACATION",payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"CATCH_FAILUR",payload:e.t0.response.data});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()));var a},addVacation:function(t){return e((a=t,function(){var e=Object(k.a)(C.a.mark((function e(t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.post("/vacations",a).catch((function(e){throw e}));case 3:return e.next=5,_.a.get("/vacations");case 5:n=e.sent,r=n.data,t({type:"ADD_VACATION",payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"CATCH_FAILUR",payload:e.t0.response.data});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()));var a},toggleOpen:function(){return e(function(){var e=Object(k.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"OPEN_TOGGLE",payload:null})}catch(a){t({type:"CATCH_FAILUR"})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=e.add,a=e.edit,o=e.data,c=e.editVacation,i=e.addVacation,s=e.toggleOpen,u=e.errorType,m=e.success,p=r.a.useState(!1),d=Object(N.a)(p,2),f=d[0],h=d[1],g=function(){s(),h(!0)},b=function(){We=U.a.mapValues(We,(function(){return""})),h(!1)},v=function(){var e=Object(k.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(We);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e,t){o[e]=t,We[e]=t};return r.a.createElement("div",null,r.a.createElement(l.a,{theme:Pe},a&&r.a.createElement(n.Fragment,null,r.a.createElement(Oe.a,{color:"primary",onClick:g},r.a.createElement(Ve.a,null)," \xa0 Edit")),t&&r.a.createElement(Ie.a,{color:"primary","aria-label":"add",style:Pe.fab,onClick:g},r.a.createElement(_e.a,null))),r.a.createElement(je.a,{open:f,onClose:b,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ue.a,{id:"form-dialog-title"},"Edit Vacation"),!m&&"String Problem"===u&&r.a.createElement(De.a,{severity:"error"},"Looks like some fildes are missing..."),!m&&"Array Problem"===u&&r.a.createElement(De.a,{severity:"error"},"Description most contain 1-500 characters"),!m&&"Date Problem"===u&&r.a.createElement(De.a,{severity:"error"},"Invalid Dates (past dates are not alowed)"),!m&&"Price Problem"===u&&r.a.createElement(De.a,{severity:"error"},"Price should contain numbers only"),!m&&"URL Problem"===u&&r.a.createElement(De.a,{severity:"error"},"Invalid Image URL"),r.a.createElement(Se.a,null,U.a.keys(We).map((function(e,t){return"starts"===e||"ends"===e?r.a.createElement("span",{key:t},r.a.createElement(Ae.a,{key:t,style:{margin:"20px"},autoFocus:!0,id:e,label:e.charAt(0).toUpperCase()+e.slice(1),type:"datetime-local",InputLabelProps:{shrink:!0},onChange:function(t){var a=t.target.value;return y(e,a)}})):o[e]?r.a.createElement(Ae.a,{key:t,autoFocus:!0,margin:"dense",id:e,label:e.charAt(0).toUpperCase()+e.slice(1),type:"text",fullWidth:!0,onChange:function(t){var a=t.target.value;return y(e,a)},defaultValue:o[e]}):r.a.createElement(Ae.a,{key:t,autoFocus:!0,margin:"dense",id:e,label:e.charAt(0).toUpperCase()+e.slice(1),type:"text",fullWidth:!0,onChange:function(t){var a=t.target.value;return y(e,a)}})})),t&&m&&r.a.createElement(De.a,{severity:"success"},"Vacation Added!"),a&&m&&r.a.createElement(De.a,{severity:"success"},"Vacation Updated!")),r.a.createElement(Te.a,null,!m&&r.a.createElement(Oe.a,{onClick:b,color:"primary"},"Cancel"),a&&r.a.createElement(Oe.a,{onClick:function(){c(o)},color:"primary"},"Apply Changes"),t&&!m&&r.a.createElement(Oe.a,{onClick:v,color:"primary"},"Add Vacation"),m&&r.a.createElement(Oe.a,{onClick:b,color:"primary"},"Close"))))})),ze=a(229),He=a(114),Me=a.n(He),Ke=Object(V.a)((function(e){return{root:{width:"90%",textAlign:"center",margin:"15px"},date:{textAlign:"center",fontFamily:"Ubuntu",fontWeight:500},media:{height:0,paddingTop:"56.25%"},actions:{fontSize:"large",width:"100%",textAlign:"center",color:"rgb(0, 110, 48)",fontWeight:"bold"},expand:{position:"relative",transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},about:{textAlign:"left"}}})),qe=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};var Be=Object(s.b)(null,(function(e){return{deleteVacation:function(t){return e(se(t))},likeVacation:function(t,a,n){return e(ue(t,a,n))},getFollowingData:function(t){return e(we(t))}}}))((function(e){var t=e.vacation,a=e.following,o=e.user,c=e.deleteVacation,i=e.likeVacation,l=e.getFollowingData,s=t.id,u=t.country,m=t.likes,p=t.destination,d=t.description,f=t.starts,h=t.ends,g=t.price,b=t.image,v=o.is_admin,y=new Date(f).toDateString(),E=new Date(h).toDateString(),x=U.a.includes(a,s),w=Ke(),O=r.a.useState(!1),A=Object(N.a)(O,2),j=A[0],T=A[1],S=function(){var e=Object(k.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t,o,a);case 2:return e.abrupt("return",l(o.id));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:w.root},r.a.createElement(fe.a,null,r.a.createElement(ze.a,{title:qe(p),subheader:qe(u),style:{fontFamily:"Ubuntu"}}),r.a.createElement(ge.a,null,r.a.createElement(ve.a,{className:w.date,variant:"body1",color:"textPrimary",component:"p"},y," - ",E)),r.a.createElement(he.a,{className:w.media,image:b,title:"image"}),r.a.createElement(be.a,null,0===v&&r.a.createElement(n.Fragment,null,r.a.createElement(H.a,{onClick:function(){return S()},"aria-label":"add to favorites"},x?r.a.createElement(ee.a,{color:"error"}):r.a.createElement(ee.a,{color:"disabled"})),m,r.a.createElement(ge.a,{className:w.actions},"Only ",g,"$")),v>0&&r.a.createElement(n.Fragment,null,r.a.createElement(H.a,{id:s,onClick:function(){return c(s)},"aria-label":"delete vacation"},r.a.createElement(Me.a,null)),r.a.createElement(ge.a,{className:w.actions},r.a.createElement(Ge,{edit:"true",data:t}))),r.a.createElement(H.a,{className:Object(de.a)(w.expand,Object(X.a)({},w.expandOpen,j)),onClick:function(){T(!j)},"aria-expanded":j,"aria-label":"show more"},r.a.createElement(xe.a,null))),r.a.createElement(ye.a,{className:w.about,in:j,timeout:"auto",unmountOnExit:!0},r.a.createElement(ge.a,null,r.a.createElement(ve.a,{variant:"body1",color:"textPrimary",component:"p"},r.a.createElement("b",null,"About:")," ",d)))))})),Je=Object(s.b)((function(e){var t=e.userReducer;return{currentUser:t.currentUser,following:t.following}}),null)((function(e){var t=e.vacations,a=e.currentUser,n=e.following;return r.a.createElement("div",null,r.a.createElement(I.a,{container:!0},t.map((function(e,t){return r.a.createElement(I.a,{key:t,className:"home",item:!0,sm:12,md:6,lg:4,xl:3},r.a.createElement(Be,{key:t,user:a,following:n,vacation:e}))}))))})),Xe=a(43),$e=a.n(Xe),Qe=a(115),Ye=a.n(Qe);a(165)($e.a),a(166)($e.a);var Ze={title:{fontWeight:500,textAlign:"center",fontSize:50,color:"white"}},et=function(e){var t=e.data,a=U.a.sortBy(t,"country"),n=U.a.map(a,"country"),o={colors:["#00abf5","#48ee16","#ED561B","#DDDF00","#1df77f","#ff74e8","#FF9655","#FFF263","#6AF9C4"],chart:{type:"packedbubble",height:"65%",backgroundColor:"#2b0028",spacingTop:80,spacingBottom:50,spacingLeft:50,spacingRight:50,marginTop:-40,marginBottom:-40},title:{text:""},tooltip:{useHTML:!0,pointFormat:"<b>{point.name}:</b> {point.value} Followers"},plotOptions:{packedbubble:{minSize:"30%",maxSize:"150%",zMin:0,zMax:1e3,layoutAlgorithm:{splitSeries:!1,gravitationalConstant:.02},dataLabels:{enabled:!0,format:"{point.name}",filter:{property:"y",operator:">",value:0},style:{color:"black",textOutline:"black",fontWeight:300,fontSize:"16px"}}}},legend:{itemStyle:{font:"20px Trebuchet MS, Verdana, sans-serif",color:"#cbffca"},itemHoverStyle:{color:"#009c34"}},series:U.a.sortedUniq(n).map((function(e){var a=t.filter((function(t){return t.country===e})).map((function(e){return{name:e.destination,value:e.likes}}));return{name:e,data:a}}))};return r.a.createElement(I.a,{container:!0},r.a.createElement("h1",{style:Ze.title},"Comparing Vacations by Followers"),r.a.createElement(I.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(Ye.a,{highcharts:$e.a,options:o})))},tt=function(e){Object(j.a)(a,e);var t=Object(T.a)(a);function a(e){var n;return Object(O.a)(this,a),(n=t.call(this,e)).logout=function(){n.props.history.push("/login")},n.searchVacation=function(e){return n.setState({searchTerm:e})},n.showSortedVacations=function(e,t){n.props.sortVacations(e,t),n.setState({vacations:n.props.sortedVacations})},n.showFilteredVacations=function(e){var t=e.country,a=e.destination,r=n.state.searchTerm;return a.toLowerCase().startsWith(r.toLocaleLowerCase())||t.toLowerCase().startsWith(r.toLocaleLowerCase())},n.state={searchTerm:""},n}return Object(A.a)(a,[{key:"componentDidMount",value:function(){var e=Object(k.a)(C.a.mark((function e(){var t,a,n,r,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getUserData();case 2:this.props.getVacationsData(),t=this.props,a=t.currentUser,n=t.vacations,r=t.following,this.props.getFollowingData(a.id);try{o=a.is_admin,a.first_name||this.logout(),0===o&&this.showSortedVacations(n,r)}catch(c){console.error(c)}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.vacations,r=a.following,o=a.currentUser;e.following!==r&&0===o.is_admin&&this.showSortedVacations(n,r)}},{key:"renderVacations",value:function(e){var t=this.props.vacations,a=t.filter(this.showFilteredVacations);return r.a.createElement(Je,Object.assign({},e,{vacations:a.length>0?a:t}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.vacations,n=t.currentUser,o=U.a.mapValues(U.a.omit(a[0],"id","likes"),(function(){return""}));return r.a.createElement(E.a,null,r.a.createElement(J,{onChange:this.searchVacation,logout:this.logout}),r.a.createElement(pe,{onChange:this.searchVacation})," ",r.a.createElement("br",null),r.a.createElement("div",{className:"home"},r.a.createElement(x.c,null,r.a.createElement(x.a,{path:"/account",component:ke}),r.a.createElement(x.a,{path:"/vacations",render:function(t){return r.a.createElement("div",null,a.length>0&&e.renderVacations(t))}}),r.a.createElement(x.a,{path:"/stats",render:function(e){return r.a.createElement(et,Object.assign({},e,{data:a}))}})),n.is_admin>0&&r.a.createElement(Ge,Object.assign({},this.props,{add:"true",data:o}))))}}]),a}(n.Component),at=Object(s.b)((function(e){var t=e.userReducer,a=t.currentUser,n=t.following,r=e.vacationReducer;return{vacations:r.vacations,currentUser:a,following:n,sortedVacations:r.sortedVacations}}),(function(e){return{getVacationsData:function(){return e(le())},getUserData:function(){return e(function(){var e=Object(k.a)(C.a.mark((function e(t){var a,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/auth/logged");case 3:a=e.sent,n=a.data,t({type:"GET_USER_DATA",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"CATCH_FAILUR"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},getFollowingData:function(t){return e(we(t))},sortVacations:function(t,a){return e(function(e,t){return function(a){try{a({type:"SORT_VACATIONS",payload:e.sort((function(e){return t.indexOf(e.id)>-1?-1:1}))})}catch(n){a({type:"CATCH_FAILUR"})}}}(t,a))}}}))(tt),nt=a(116),rt=a.n(nt),ot=a(234),ct=a(78),it=a.n(ct),lt={root:{borderRadius:20,width:"50%",margin:"auto",padding:20,backgroundImage:"url(".concat(rt.a,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",height:"100%"},paper:{display:"flex",flexDirection:"column",alignItems:"center",width:"50%",margin:"auto",marginTop:"20px"},textField:{backgroundColor:"#fff4d0e7",borderRadius:10},link:{color:"white",fontWeight:200,fontSize:20,textShadow:"-1px -1px 0 #000, 0.5px -1px 0 #000, -0.5px 1px 0 #000, 0.5px 1px 0 #000"},title:{fontWeight:400},avatar:{background:"#86179cbe"},form:{width:"100%"},submit:{backgroundColor:"#86179cbe"}},st=function(e){Object(j.a)(a,e);var t=Object(T.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",error:!1},e.onChange=function(t,a){e.setState(Object(X.a)({},t,a))},e.onClick=Object(k.a)(C.a.mark((function t(){var a,n,r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.username,r=a.password,t.prev=1,t.next=4,_.a.post("/auth/login",{username:n,password:r});case 4:e.props.history.push("/vacations"),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(1),e.setState({error:!0}),e.props.history.push("/"),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,7]])}))),e}return Object(A.a)(a,[{key:"render",value:function(){var e=this,t=this.state.error;return r.a.createElement(I.a,{style:lt.root},r.a.createElement("div",{style:lt.paper},r.a.createElement(ot.a,{style:lt.avatar},r.a.createElement(it.a,null)),r.a.createElement(ve.a,{style:lt.title,variant:"h4"},"Login"),r.a.createElement("div",{style:lt.form},r.a.createElement(I.a,{item:!0},r.a.createElement(Ae.a,{style:lt.textField,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",autoComplete:"username",autoFocus:!0,onChange:function(t){var a=t.target.value;return e.onChange("username",a)},onKeyDown:function(t){return 13===t.keyCode&&e.onClick()}})),r.a.createElement(I.a,{item:!0},r.a.createElement(Ae.a,{style:lt.textField,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(t){var a=t.target.value;return e.onChange("password",a)},onKeyDown:function(t){return 13===t.keyCode&&e.onClick()}})),r.a.createElement(I.a,{item:!0,xs:12},t&&r.a.createElement(De.a,{severity:"error"},"Invalid Username/Password")),r.a.createElement("br",null),r.a.createElement(I.a,{item:!0},r.a.createElement(Oe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",style:lt.submit,onClick:function(){return e.onClick()}},"Login!")),r.a.createElement("br",null),r.a.createElement(I.a,{container:!0,justify:"flex-end"},r.a.createElement(E.b,{style:lt.link,to:"/signup",variant:"body2"},"Don't have an account yet? Sign Up")))))}}]),a}(n.Component),ut=a(117),mt={root:{borderRadius:20,width:"50%",margin:"auto",padding:20,backgroundImage:"url(".concat(a.n(ut).a,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",height:"100%"},paper:{display:"flex",flexDirection:"column",alignItems:"center",width:"50%",margin:"auto",marginTop:"20px"},title:{fontWeight:300,color:"white",textShadow:"-1px -1px 0 #000, 1px -1px 0 #000, -2px 2px 0 #000, 2px 2px 0 #000"},textField:{backgroundColor:"#d0f9ffe7",borderRadius:10},avatar:{background:"#86179cbe"},link:{color:"black",fontWeight:200,fontSize:20,textShadow:"-1px -0.5px 0 #ffffff, 0.5px -1px 0 #ffffff, -0.5px 1px 0 #ffffff, 0.5px 1px 0 #ffffff"},form:{width:"100%"},submit:{backgroundColor:"#86179cbe"}},pt=function(e){Object(j.a)(a,e);var t=Object(T.a)(a);function a(){var e;Object(O.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={firstName:"",lastName:"",username:"",password:"",confirm:"",errorType:null},e.onChange=function(t,a){e.setState(Object(X.a)({},t,a))},e.onClick=Object(k.a)(C.a.mark((function t(){var a,n,r,o,c,i;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.firstName,r=a.lastName,o=a.username,c=a.password,i=a.confirm,t.prev=1,t.next=4,_.a.post("/auth/signup",{firstName:n,lastName:r,username:o,password:c}).catch((function(e){throw e}));case 4:c&&o&&c===i&&e.props.history.push("/login"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0.response.data),e.setState({errorType:t.t0.response.data});case 11:case"end":return t.stop()}}),t,null,[[1,7]])}))),e}return Object(A.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.confirm,n=t.password,o=t.errorType;return r.a.createElement(I.a,{style:mt.root},r.a.createElement("div",{style:mt.paper},r.a.createElement(ot.a,{style:mt.avatar},r.a.createElement(it.a,null)),r.a.createElement(ve.a,{style:mt.title,variant:"h3"},"Sign up"),r.a.createElement("br",null),r.a.createElement("div",{style:mt.form},r.a.createElement(I.a,{container:!0,spacing:2},r.a.createElement(I.a,{item:!0,xs:12},"String Problem"===o&&r.a.createElement(De.a,{severity:"error"},"Missing names (letters only)"),"Username Problem"===o&&r.a.createElement(De.a,{severity:"error"},"Invalid Username (at least 1 letter)"),"Password Problem"===o&&r.a.createElement(De.a,{severity:"error"},"Invalid Password (minimum: 4 Charts, 1 Uppercase, 1 Lowercase, 1 Digit)")),r.a.createElement(I.a,{item:!0,md:12,lg:6},r.a.createElement(Ae.a,{style:mt.textField,autoComplete:"fname",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(t){var a=t.target.value;return e.onChange("firstName",a)},onKeyDown:function(t){return 13===t.keyCode&&e.onClick()}})),r.a.createElement(I.a,{item:!0,md:12,lg:6},r.a.createElement(Ae.a,{style:mt.textField,variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",autoComplete:"lname",onChange:function(t){var a=t.target.value;return e.onChange("lastName",a)},onKeyDown:function(t){return 13===t.keyCode&&e.onClick()}})),r.a.createElement(I.a,{item:!0,md:12},r.a.createElement(Ae.a,{style:mt.textField,variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",autoComplete:"username",onChange:function(t){var a=t.target.value;return e.onChange("username",a)},onKeyDown:function(t){return 13===t.keyCode&&e.onClick()}})),r.a.createElement(I.a,{item:!0,md:12,lg:6},r.a.createElement(Ae.a,{style:mt.textField,variant:"outlined",required:!0,fullWidth:!0,label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(t){var a=t.target.value;return e.onChange("password",a)},onKeyDown:function(t){return 13===t.keyCode&&e.onClick()}})),r.a.createElement(I.a,{item:!0,md:12,lg:6},r.a.createElement(Ae.a,{style:mt.textField,variant:"outlined",required:!0,fullWidth:!0,label:"Confirm Password",type:"password",id:"confirm",autoComplete:"current-password",onChange:function(t){var a=t.target.value;return e.onChange("confirm",a)},onKeyDown:function(t){return 13===t.keyCode&&e.onClick()}})),r.a.createElement(I.a,{item:!0,xs:12},a&&a!==n&&r.a.createElement(De.a,{severity:"error"},"Passwords Don't Match"),a&&a===n&&r.a.createElement(De.a,{severity:"success"},"Passwords Match!"))),r.a.createElement("br",null),r.a.createElement(Oe.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",style:mt.submit,onClick:function(){return e.onClick()}},"Sign Up"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(I.a,{container:!0,justify:"flex-end"},r.a.createElement(E.b,{style:mt.link,to:"/login",variant:"body2"},"Already have an account? Sign in")))))}}]),a}(n.Component),dt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,ft=Object(u.e)(y,dt(Object(u.a)(d.a,m.a))),ht=Object(i.a)({typography:{fontFamily:"'Ubuntu', 'sans-serif'",fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500,fontWeightBold:700}});var gt=function(){return r.a.createElement(l.a,{theme:ht},r.a.createElement(s.a,{store:ft},r.a.createElement(E.a,null,r.a.createElement(x.c,null,r.a.createElement(x.a,{path:"/signup",component:pt}),r.a.createElement(x.a,{path:"/login",component:st}),r.a.createElement(x.a,{path:"/vacations",component:at}),r.a.createElement(x.a,{path:"/",component:st})))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(gt,null)),document.getElementById("root"))}},[[134,1,2]]]);
//# sourceMappingURL=main.e010c771.chunk.js.map